/*[global-shim-start]*/
!function(exports,global){var origDefine=global.define,get=function(e){var o,l=e.split("."),n=global;for(o=0;o<l.length&&n;o++)n=n[l[o]];return n},modules=global.define&&global.define.modules||global._define&&global._define.modules||{},ourDefine=global.define=function(e,o,l){var n;"function"==typeof o&&(l=o,o=[]);var r,t=[];for(r=0;r<o.length;r++)t.push(exports[o[r]]?get(exports[o[r]]):modules[o[r]]||get(o[r]));if(!o.length&&l.length){n={exports:{}};var i=function(e){return exports[e]?get(exports[e]):modules[e]};t.push(i,n.exports,n)}else t[0]||"exports"!==o[0]?t[0]||"module"!==o[0]||(t[0]={id:e}):(n={exports:{}},t[0]=n.exports,"module"===o[1]&&(t[1]=n));global.define=origDefine;var a=l?l.apply(null,t):void 0;global.define=ourDefine,modules[e]=n&&n.exports?n.exports:a};global.define.orig=origDefine,global.define.modules=modules,global.define.amd=!0,ourDefine("@loader",[],function(){var noop=function(){};return{get:function(){return{prepareGlobal:noop,retrieveGlobal:noop}},global:global,__exec:function(__load){eval("(function() { "+__load.source+" \n }).call(global);")}}})}({},window);
/*path@1.0.0#index*/
define("path/index",function(n,e,i){e.basename=function(n){return n.split("/").pop()},e.dirname=function(n){return n.split("/").slice(0,-1).join("/")||"."},e.extname=function(n){var i=e.basename(n);if(!~i.indexOf("."))return"";var t=i.split(".").pop();return"."+t}});
/*fs-web@0.8.0#directory_entry*/
define("fs-web/directory_entry",["exports","module","path/index"],function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){this.path=e,this.name=s["default"].basename(e),this.dir=s["default"].dirname(e),this.type=t}var s=n(i);t.exports=r});
/*fs-web@0.8.0#core*/
define("fs-web/core",["exports","path/index","fs-web/directory_entry"],function(n,e,t){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n){return String.fromCharCode.apply(null,new Uint16Array(n))}function i(n){for(var e=new ArrayBuffer(2*n.length),t=new Uint16Array(e),r=0,o=n.length;o>r;r++)t[r]=n.charCodeAt(r);return e}function u(n){var e=window.indexedDB.open(w,1);e.onupgradeneeded=function(n){var e=n.target.result,t=e.createObjectStore(m,{keyPath:"path"});t.createIndex(A,"dir",{unique:!1})},e.onsuccess=function(e){n(e.target.result)}}function a(n,e){u(function(t){var r=t.transaction([m],n),o=r.objectStore(m);e(o)})}function c(n,e){_(n,function(n,t){n||t instanceof ArrayBuffer||(t=i(t.toString())),e(n,t)})}function f(n,e){_(n,function(n,t){!n&&t instanceof ArrayBuffer&&(t=o(t)),e(n,t)})}function d(n,e,t){a("readwrite",function(r){var o=r.put({path:n,dir:h["default"].dirname(n),type:"file",data:e});o.onerror=function(n){t(n)},o.onsuccess=function(n){t(null)}})}function l(n,e){a("readwrite",function(t){var r=t["delete"](n);r.onerror=r.onsuccess=function(n){e()}})}function s(n){var e="/"===n[n.length-1]?n:n+"/";return e}function y(n,e){a("readonly",function(t){var r=h["default"].dirname(s(n)),o=t.index(A),i=IDBKeyRange.only(r),u=o.openCursor(i);u.onerror=function(n){e(n)};var a=[];u.onsuccess=function(n){var t=n.target.result;if(t){var r=t.value,o=new g["default"](r.path,r.type);a.push(o),t["continue"]()}else e(null,a)}})}function p(n,e){a("readwrite",function(t){var r=s(h["default"]),o=t.put({path:n,dir:h["default"].dirname(r),type:"directory"});o.onerror=function(n){e(n)},o.onsuccess=function(n){e(null)}})}function v(n,e){y(n,function t(r){if(!r||!r.length)return l(n,e);var o=r.shift(),i="directory"===o.type?v:l;i(o.name,function(){t(r)})})}Object.defineProperty(n,"__esModule",{value:!0}),n.readFile=c,n.readString=f,n.writeFile=d,n.removeFile=l,n.readdir=y,n.mkdir=p,n.rmdir=v;var h=r(e),g=r(t),w=window.location.host+"_filesystem",m="files",A="dir",_=function(n,e){a("readonly",function(t){var r=t.get(n);r.onerror=function(n){e(n)},r.onsuccess=function(n){var t=n.target.result;t&&t.data?e(null,t.data):e("File not found")}})}});
/*fs-web@0.8.0#fs*/
define("fs-web/fs",["exports","fs-web/core","fs-web/directory_entry"],function(e,r,t){"use strict";function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function n(e,r){for(var t=Object.getOwnPropertyNames(r),o=0;o<t.length;o++){var n=t[o],f=Object.getOwnPropertyDescriptor(r,n);f&&f.configurable&&void 0===e[n]&&Object.defineProperty(e,n,f)}return e}function f(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=f(t);i["default"].prototype.readFile=function(e){if("file"!==this.type)throw new TypeError("Not a file.");return r.readFile(this.path,e)},n(e,o(r)),e.DirectoryEntry=i["default"]});
/*[global-shim-end]*/
!function(){window._define=window.define,window.define=window.define.orig}();